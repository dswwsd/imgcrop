<!DOCTYPE html>
<html lang="en" >
<head>
	<meta charset="utf-8" />
	<title>image crop</title>
	<link href="http://a.tbcdn.cn/p/global/1.0/global-min.css" rel="stylesheet"/>
	<script src="http://a.tbcdn.cn/s/kissy/1.3.0/kissy-min.js"></script>
	<!--[if lte IE 8]>
	<link rel="stylesheet" href="../imgcrop.css"/>
	<![endif]-->
	<style>
		body {
			background-color:#74b1d1;
		}
		.header {
			background-color:#212121;
			box-shadow: 0 -1px 2px #111111;
			display:block;
			height:70px;
			line-height:70px;
		}
		.header h2{
			font-size:22px;
			text-indent: 30px;
			color:#fff;
		}
		.container,
		.infobox {
			overflow:hidden;
			width:500px;
			height:500px;
			float:left;
		}
	</style>
</head>
<body>
	<div class="header">
		<h2>image crop</h2>
	</div>
	<div id="J_CropBox" class="container"></div>
	<textarea id="J_InfoBox" class="infobox"></textarea>
<script>
if(KISSY.Config.debug == true){
	KISSY.config({
	  packages:[
		{
		  name:"gallery",
		  tag:"201305013",
		  path:"../../../../",
		  charset:"utf-8"
		}
	  ]
	});
}
</script>
<script src="../build/index.js"></script>
<script>
KISSY.use('gallery/imgcrop/2.0/index', function(S, ImgCrop){
	var $ = S.all;
	var crop = new ImgCrop({
		areaEl : "#J_CropBox",
		initialXY : [10,10],
		initWidth : 200,
		initHeight : 200,
		areaWidth:500, //不配置默认取容器宽度
        areaHeight:500, //不配置默认取容器高度
		url : 'http://img01.taobaocdn.com/imgextra/i1/14888019145001501/T1_iIPXl8dXXXXXXXX_!!855984888-0-pix.jpg'
	});
	
	crop.on('imgload drag resize', function(){
		$('#J_InfoBox').text(S.JSON.stringify(crop.getInfo(), null, 4));
	});
});
</script>
</body>
</html>